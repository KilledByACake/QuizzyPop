@model QuizzyPop.ViewModels.QuizMetaDataViewModel
@{
    ViewData["Title"] = "Create Quiz";
}

<section class="create-quiz-page">
    <div class="clouds" aria-hidden="true">
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
        <div class="cloud"></div>
    </div>

    <div class="title-row">
        <h1>Create new Quiz</h1>
    </div>

    <div class="cq-grid">
        <!-- LEFT: form column -->
        <div class="form-col">
            <form asp-controller="Home" asp-action="Create" method="post" enctype="multipart/form-data" novalidate>
                <!-- Quiz info card -->
                <div class="card">
                    <h2 class="card-title">Quiz information</h2>
                    @await Html.PartialAsync("_QuizMetaData", Model)
                </div>

                <!-- Questions card(s) -->
                <div class="card" style="margin-top:2rem;">
                    <h2>Questions</h2>
                    <div id="questions">
                        @for (int i = 0; i < Model.Questions.Count; i++)
                        {
                            @await Html.PartialAsync("_QuizQuestion", Model.Questions[i], new ViewDataDictionary(ViewData) { { "QuestionNumber", i + 1 } })
                        }
                    </div>
                    <div class="add-question-container" style="margin-top:1.5rem; text-align:center;">
                        <button type="button" id="addQuestionBtn" class="btn btn-outline-primary">
                            + Add question
                        </button>
                    </div>
                </div>

                <!-- Publish button at the bottom -->
                <div class="publish-bottom" style="margin-top:2rem;">
                    <button type="submit" class="btn btn-giant">Publish</button>
                </div>
            </form>
        </div>

        <!-- RIGHT: sidebar -->
        <aside class="sidebar" aria-label="Quiz summary and settings">
            <div class="card small">
                <ul class="stats">
                    <li><span>Total questions</span><strong>@Model.Questions.Count</strong></li>
                    <li><span>Total points</span><strong>1</strong></li>
                    <li><span>Estimated time</span><strong>2 min</strong></li>
                </ul>
            </div>
            <div class="card small" style="margin-top:1rem;">
                <div class="settings">
                    <label class="switch">
                        <input type="checkbox" name="RandomizeQuestionOrder" checked />
                        <span class="slider"></span>
                        <span class="switch-text">Randomize question order</span>
                    </label>

                    <label class="switch">
                        <input type="checkbox" name="AllowBackNavigation" />
                        <span class="slider"></span>
                        <span class="switch-text">Allow back navigation</span>
                    </label>

                    <label class="switch">
                        <input type="checkbox" name="GiveAwards" checked />
                        <span class="slider"></span>
                        <span class="switch-text">Give awards for right answers</span>
                    </label>
                </div>
            </div>
        </aside>
    </div>
</section>

<template id="question-template">
  <div class="card question-card" data-index="__INDEX__">
    <!-- Question template content here -->
  </div>
</template>

@section Scripts {
    @* Your JavaScript for adding questions goes here *@
}
