@{
    // Detect which page is active
    var currentController = ViewContext.RouteData.Values["controller"]?.ToString();
    var currentAction = ViewContext.RouteData.Values["action"]?.ToString();

    Func<string, string, string> isActive = (controller, action) =>
    {
        return (currentController == controller && currentAction == action) ? "active" : "";
    };
}

<header class="navbar">
    <div class="navbar-inner">
        <!-- Brand -->
        <a class="navbar-brand" asp-controller="Home" asp-action="Index">
            <img src="~/images/quizzy-no-arms.png" alt="Blueberry mascot logo" height="60" />
            <span class="brand-text">QuizzyPop</span>
        </a>

        <!-- Main navigation -->
        <nav class="navbar-nav" aria-label="Main navigation">
            <a asp-controller="Home" asp-action="Index" class="@isActive("Home", "Index")">Home</a>
            <a asp-controller="Home" asp-action="TakeQuiz" class="@isActive("Home", "TakeQuiz")">Take Quiz</a>
            <a asp-controller="Home" asp-action="CreateQuiz" class="@isActive("Home", "CreateQuiz")">Make Quiz</a>
        </nav>

        @{
            var userSession = Context.Session.GetString("CurrentUser");
        }

        <!-- Right side actions -->
        <div class="navbar-actions">
            @if (!string.IsNullOrEmpty(userSession))
            {
                <!-- If Logged in -->
                <a asp-controller="Home" asp-action="MyPage" class="btn-outline-green">Account</a>

                <form asp-controller="Account" asp-action="Logout" method="post" style="display:inline;">
                    <button type="submit" class="btn-outline-green">Log Out</button>
                </form>
            }
            else
            {
                <!-- If NOT logged in -->
                <a asp-controller="Account" asp-action="Login" class="btn-outline-green">Log In</a>
                <a asp-controller="Account" asp-action="Register" class="btn-outline-green">Sign Up</a>
            }
        </div>
    </div>
</header>